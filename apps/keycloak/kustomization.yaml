namespace: iam

commonLabels:
  app.kubernetes.io/instance: "{{ app_name }}"

helmCharts:
- name: keycloak
  releaseName: "{{ app_name }}"
  repo: https://codecentric.github.io/helm-charts
  version: 16.0.5
  valuesFile: values.yaml

# patches:
  # - sa-enable-automountServiceAccountToken.yaml # mandatory to mesh with identity

secretGenerator:
  - name: keycloak-database
    literals:
      - user=keycloak
      - password={{ keycloak.database.password }}
  - name: keycloak
    literals:
      - user={{ keycloak.superadmin.username }}
      - password={{ keycloak.superadmin.password }}
  - name: realm-secret
    files:
      - master-realm.json
      - rs-realm.json
